# 水印助手
给证件图打水印是一个必要的习惯，奈何每次都要用PS这把大刀来搞。考虑隐私问题，一堆一个个都要联网，所以就随便写了这个工具。

## 需求
一个启用了JavaScript的现代浏览器，不需要联网。

## 使用
- HTML文件

    直接用浏览器打开[watermark-helper.html](watermark-helper.html) 或 [watermark-helper.min.html](watermark-helper.min.html)（压缩版）即可。

- DataLink **推荐**
    
    使用浏览器打开[data-link.txt](data-link.txt)文件中的链接或直接点击[此链接](data:text/html;base64,PCFET0NUWVBFIGh0bWw+PGh0bWwgbGFuZz16aD48aGVhZD48bWV0YSBjaGFyc2V0PVVURi04Pjx0aXRsZT7msLTljbDliqnmiYs8L3RpdGxlPjxtZXRhIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCxpbml0aWFsLXNjYWxlPTEiIG5hbWU9dmlld3BvcnQ+PHN0eWxlPmJvZHl7bWFyZ2luOmF1dG87bWF4LXdpZHRoOjYwdmh9aW1ne2JvcmRlcjozcHggc29saWQgIzJjM2U1MDtib3JkZXItcmFkaXVzOjVweDt3aWR0aDoxMDAlO2JveC1zaXppbmc6Ym9yZGVyLWJveH1jYW52YXN7d2lkdGg6MDtoZWlnaHQ6MH1hLGxhYmVse2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7bWFyZ2luLXRvcDo4cHh9PC9zdHlsZT48L2hlYWQ+PGJvZHk+PGNhbnZhcz48L2NhbnZhcz48aW1nIHN0eWxlPWJvcmRlcjowPjxkaXY+PGlucHV0IGlkPXVwbG9hZC1pbnB1dCB0eXBlPWZpbGUgYWNjZXB0PWltYWdlLyo+PGxhYmVsPuawtOWNsOaWh+Wtl++8miA8aW5wdXQgaWQ9Y29udGVudCB0eXBlPXRleHQgdmFsdWU95LuF5L6bWFjlrp7lkI3orqTor4Hkvb/nlKg+PC9sYWJlbD48bGFiZWw+5rC05Y2w6aKc6Imy77yaIDxpbnB1dCBpZD1jb2xvciB0eXBlPWNvbG9yIHZhbHVlPSNmZmZmZmY+PC9sYWJlbD48bGFiZWw+5Zu+54mH5aSn5bCP77yaIDxpbnB1dCBpZD13aWR0aCB0eXBlPW51bWJlciB2YWx1ZT0yMDQ4PjwvbGFiZWw+PGxhYmVsPuWbvueJh+i0qOmHj++8miA8aW5wdXQgaWQ9cXVhbGl0eSB0eXBlPXJhbmdlIHZhbHVlPTgwIG1heD0xMDAgbWluPTE+PC9sYWJlbD48bGFiZWw+5LiN6YCP5piO5bqm77yaIDxpbnB1dCBpZD1hbHBoYSB0eXBlPXJhbmdlIHZhbHVlPTUwIG1heD0xMDAgbWluPTEwPjwvbGFiZWw+PGxhYmVsPuawtOWNsOWkp+Wwj+avlO+8miA8aW5wdXQgaWQ9c2l6ZSB0eXBlPXJhbmdlIHZhbHVlPTUgbWF4PTEwIG1pbj0zPjwvbGFiZWw+PGxhYmVsPuaXi+i9rOinkuW6pu+8miA8aW5wdXQgaWQ9YW5nbGUgdHlwZT1yYW5nZSB2YWx1ZT00NSBtYXg9MTgwIG1pbj0tMTgwPjwvbGFiZWw+PGxhYmVsPuawtOWNsOmXtOmalOavlO+8miA8aW5wdXQgaWQ9Z2FwIHR5cGU9cmFuZ2UgdmFsdWU9MTUwIG1heD0zMDAgbWluPTIwPjwvbGFiZWw+PGxhYmVsPuawtOWNsOWtl+S9k++8miA8aW5wdXQgaWQ9Zm9udCB0eXBlPXRleHQgdmFsdWU9c2Fucy1zZXJpZj48L2xhYmVsPjxhIGRvd25sb2FkIGhyZWY9ImphdmFzY3JpcHQ6YWxlcnQoJ+ivt+WFiOaJk+W8gOWbvueJhycpIj7kv53lrZjlm77niYc8L2E+PC9kaXY+PHNjcmlwdD52YXIgaW1nPW51bGw7ZnVuY3Rpb24gcmVwYWludCgpe2lmKGltZyl7dmFyIGU9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImNhbnZhcyIpWzBdLmdldENvbnRleHQoIjJkIiksdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgid2lkdGgiKS52YWx1ZSxhPWltZy5oZWlnaHQqdC9pbWcud2lkdGgsbj0oZS5jYW52YXMud2lkdGg9dCxlLmNhbnZhcy5oZWlnaHQ9YSxNYXRoLm1heChhLHQpKSxsPShlLnJlc3RvcmUoKSxlLmRyYXdJbWFnZShpbWcsMCwwLHQsYSksZS5maWxsU3R5bGU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvbG9yIikudmFsdWUsZS5nbG9iYWxBbHBoYT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWxwaGEiKS52YWx1ZS8xMDAsZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNpemUiKS52YWx1ZSpuLzEwMCksbT0oZS5mb250PWwrJ3B4ICInK2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmb250IikudmFsdWUrJyInLGUudGV4dEJhc2VsaW5lPSJtaWRkbGUiLGUucm90YXRlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhbmdsZSIpLnZhbHVlKk1hdGguUEkvMTgwKSxsKmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJnYXAiKS52YWx1ZS8xMDApLGk9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvbnRlbnQiKS52YWx1ZTtpZihpLmxlbmd0aCl7Zm9yKHZhciBkPU1hdGguc3FydChuKm4qMiksZz1lLm1lYXN1cmVUZXh0KGkpLndpZHRoLGM9LW4sbz0hMTtjPD1kO2MrPWwrbSxvPSFvKWZvcih2YXIgcj0tbi0obz9nLzI6MCk7cjw9ZCsobz9nLzI6MCk7cis9ZytsKWUuZmlsbFRleHQoaSxyLGMpO3Q9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1YWxpdHkiKS52YWx1ZTtlLmNhbnZhcy50b0Jsb2IoZT0+e3ZhciB0PVVSTC5jcmVhdGVPYmplY3RVUkwoZSksYT1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpWzBdO2EuaHJlZj10LGEuaW5uZXJUZXh0PWDkv53lrZjlm77niYfvvIgke01hdGguY2VpbChlLnNpemUvMTAyNCl9a2LvvIlgLGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbWciKVswXS5zcmM9dH0sImltYWdlL2pwZWciLHQvMTAwKX19fWZ1bmN0aW9uIGNyZWF0ZUJpdG1hcChlLHQpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpO2EuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsZnVuY3Rpb24oKXt0KHRoaXMpfSksYS5zcmM9VVJMLmNyZWF0ZU9iamVjdFVSTChlKX1kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLGZ1bmN0aW9uKGUpeyJmaWxlIj09PWUudGFyZ2V0LnR5cGU/ZS50YXJnZXQuZmlsZXMubGVuZ3RoJiYoY3JlYXRlQml0bWFwKGU9ZS50YXJnZXQuZmlsZXNbMF0sZnVuY3Rpb24oZSl7aW1nPWUscmVwYWludCgpfSksKGU9ZS5uYW1lLnNwbGl0KCIuIikpLnNwbGljZSgtMSwwLCJ3YXRlcm1hcmtlZCIpLGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIilbMF0uZG93bmxvYWQ9ZS5qb2luKCIuIikpOnJlcGFpbnQoKX0pPC9zY3JpcHQ+PC9ib2R5PjwvaHRtbD4=)即可，此链接直接包含了整个网页文件，可添加到收藏夹云同步等。
    > 请注意部分国产浏览器不支持这么长的链接，如果出现网页显示不全或操作无反应的话，请换用上一种方法。
    
## 额外说明
- 水印大小比：根据图片的大小缩放字体的比例（3%~10%）
- 水印间隔比：根据字体大小缩放两行水印间距的比例（20%~300%）

## 构建
如果有自行修改的需求，请直接修改 `./watermark-helper.html` 文件，然后运行 `./index.js` 将会自动根据修改生成其他文件。

```bash
npm install
node .
```
